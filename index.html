<!DOCTYPE html>
<html>
<head>
<title>LEGO Airport Game</title>
<!-- Favicon from your Google Drive -->
<link rel="icon" type="image/png" href="https://drive.google.com/uc?export=view&id=1KWubCoLSiebfPt8dIChwIQonEBp3vEHL">
<style>
body{margin:0;font-family:'Comic Sans MS',Arial;background:linear-gradient(#7dd7ff,#e9f9ff);}
header{background:#1976d2;color:white;padding:10px;text-align:center;font-size:26px;}
#clock{font-size:16px;}
button{background:#ffeb3b;border:none;padding:8px 12px;margin:4px;border-radius:10px;font-weight:bold;cursor:pointer;}
.flight{background:white;border-radius:20px;padding:10px;margin:10px;display:flex;justify-content:space-between;align-items:center;box-shadow:0 5px 0 #bbb;transition:transform 2s,opacity 2s;}
.small{border-left:10px solid #00c853;}
.big{border-left:10px solid #ff9100;}
.cargo{border-left:10px solid #6d4c41;}
.departed{transform:translateX(1000px);opacity:0;}
.status{font-weight:bold;}
.gate{background:#fff;border-radius:20px;padding:10px;margin:10px;box-shadow:0 5px 0 #ccc;}
</style>
</head>

<body>

<header>
ðŸ§± LEGO Airport Control Tower  
<div id="clock"></div>
<button onclick="view='airport';render()">Airport</button>
<button onclick="view='tower';render()">ðŸ—¼ Control Tower</button>
<button onclick="newDay()">ðŸŒž Next Day</button>
</header>

<div id="airport"></div>
<div id="tower" style="display:none;"></div>

<script>
let view="airport";

// Airlines and planes
const airlines=[
 {name:"Star Allegiance âœ¨",type:"small",seats:2,gate:1},
 {name:"Cargo A ðŸ“¦",type:"cargo",seats:8,gate:"Cargo"},
 {name:"Police Airlines ðŸš“",type:"big",seats:6,gate:2},
 {name:"Eagle Alliance ðŸ¦…",type:"big",seats:8,gate:3}
];

let flights=[];

// Generate random flight times between 10am and 2pm
function randTime(){ return 600 + Math.floor(Math.random()*240); }

// Convert minutes to 12-hour time
function formatTime(min){
  let h=Math.floor(min/60);
  let m=(min%60).toString().padStart(2,"0");
  let ap=h>=12?"PM":"AM";
  h=h%12||12;
  return h+":"+m+" "+ap;
}

// Generate flights
function generateFlights(){
  flights=[];
  airlines.forEach(a=>{
    for(let i=1;i<=2;i++){
      flights.push({
        airline:a.name,
        type:a.type,
        seats:a.seats,
        max:a.seats,
        time:randTime(),
        gate:a.gate,
        status:"WAITING"
      });
    }
  });
}
generateFlights();

// Current time in minutes
function nowMin(){ let d=new Date(); return d.getHours()*60+d.getMinutes(); }

// Update clock and flight statuses
function updateClock(){
  let d=new Date();
  clock.innerText=d.toLocaleTimeString();
  flights.forEach(f=>{
    if(f.status!=="DEPARTED"){
      if(nowMin()>=f.time){
        f.status=(f.seats<f.max)?"DEPARTED":"CANCELLED";
      }else{
        f.status=(f.seats<f.max)?"WILL FLY":"WAITING";
      }
    }
  });
  render();
}
setInterval(updateClock,1000);

// Book a seat
function book(flight){
  if(flight.seats>0){ flight.seats--; render(); }
}

// Reset for new day
function newDay(){
  flights.forEach(f=>{ f.seats=f.max; f.status="WAITING"; });
  render();
}

// Render airport and tower views
function render(){
  let list=[...flights].sort((a,b)=>a.time-b.time);
  airport.innerHTML=""; tower.innerHTML="";

  // Airport view
  list.forEach(f=>{
    let div=document.createElement("div");
    div.className="flight "+f.type+(f.status==="DEPARTED"?" departed":"");
    div.innerHTML=`
      <div>
        <b>${f.airline}</b><br>
        ðŸ•’ ${formatTime(f.time)} | Gate ${f.gate}<br>
        Seats: ${f.seats}/${f.max}
      </div>
      <div class="status">${f.status}</div>
    `;
    let btn=document.createElement("button");
    btn.innerText="ðŸ§ Book";
    btn.onclick=()=>book(f);
    div.appendChild(btn);
    airport.appendChild(div);
  });

  // Tower view
  ["1","2","3","Cargo"].forEach(g=>{
    let gate=document.createElement("div");
    gate.className="gate";
    gate.innerHTML="<b>Gate "+g+"</b><br>";
    list.filter(f=>f.gate==g).forEach(f=>{
      gate.innerHTML+=`${formatTime(f.time)} - ${f.airline} (${f.status})<br>`;
    });
    tower.appendChild(gate);
  });

  airport.style.display=(view==="airport")?"block":"none";
  tower.style.display=(view==="tower")?"block":"none";
}

// Initial render
render();
</script>

</body>
</html>



